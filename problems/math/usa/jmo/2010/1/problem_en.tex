A \emph{permutation} of the set of positive integers $\left[n\right]=\left\{1,2,\ldots,n\right\}$ is a sequence $\left(a_1,a_2,\ldots,a_n\right)$ such that each element of $\left[n\right]$ appears precisely one time as a term of the sequence. For example, $\left(3,5,1,2,4\right)$ is a permutation of $\left[5\right]$. Let $P\left(n\right)$ be the number of permutations of $\left[n\right]$ for which $ka_k$ is a perfect square for all $1\leq k\leq n$. Find with proof the smallest $n$ such that $P\left(n\right)$ is a multiple of $2010$.