The answer is $67^2$.

Let $m$ be a squarefree integer. Define \[S_m=\left\{mx^2\mid x\in\mathbb{N},mx^2\leq n\right\}.\] Then the $S_m$ are disjoint. Note that $k\in S_m$ iff $a_k\in S_m$, so it suffices to permute within each $S_m$. The number of members of $S_m$ is $\left\lfloor\sqrt{\frac{n}{m}}\right\rfloor$, so we get that \[P\left(n\right)=\prod_{m\text{ squarefree}}\left\lfloor\sqrt{\frac{n}{m}}\right\rfloor!.\] If $n<67^2$, then \[\left\lfloor\sqrt{\frac{n}{m}}\right\rfloor\leq\left\lfloor\sqrt{n}\right\rfloor<67,\] so $\left\lfloor\sqrt{\frac{n}{m}}\right\rfloor!$ is not divisible by $67$, contradiction. But if $n=67^2$, then $\left\lfloor\sqrt{n}\right\rfloor=67!$ is divisible by $2010=2\cdot3\cdot5\cdot67$, so $P\left(67^2\right)$ is divisible by $2010$.