Let $f: \mathbb Z\to \{1, 2, \dots, 10^{100}\}$ be a function satisfying 
$$\gcd(f(x), f(y)) = \gcd(f(x), x-y)$$ 
for all integers $x$ and $y$. Show that there exist positive integers $m$ and $n$ such that $f(x) = \gcd(m+x, n)$ for all integers $x$.