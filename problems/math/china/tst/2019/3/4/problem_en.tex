Find all functions $f: \mathbb{R}^2 \rightarrow \mathbb{R}$, such that
1) $f(0,x)$ is non-decreasing ;
2) for any $x,y \in \mathbb{R}$, $f(x,y)=f(y,x)$ ;
3) for any $x,y,z \in \mathbb{R}$, $(f(x,y)-f(y,z))(f(y,z)-f(z,x))(f(z,x)-f(x,y))=0$ ;
4) for any $x,y,a \in \mathbb{R}$, $f(x+a,y+a)=f(x,y)+a$ .