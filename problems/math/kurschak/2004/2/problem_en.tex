Find the smallest positive integer $n\neq 2004$ for which there exists a polynomial $f\in\mathbb{Z}[x]$ such that the equation $f(x)=2004$ has at least one, and the equation $f(x)=n$ has at least $2004$ different integer solutions.