Find all the functions $f: \mathbb{R} \to\mathbb{R}$ such that\[f(x-f(y))=f(f(y))+xf(y)+f(x)-1\]for all $x,y \in \mathbb{R} $.