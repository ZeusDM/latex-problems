Find all pairs $(k,n)$ of positive integers such that \[k!=(2^n-1)(2^n-2)(2^n-4)\cdots(2^n-2^{n-1}).\]