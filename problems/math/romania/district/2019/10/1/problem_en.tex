Find the functions $f: \mathbb{R} \to (0, \infty)$ which satisfy $$2^{-x-y} \le \frac{f(x)f(y)}{(x^2+1)(y^2+1)} \le \frac{f(x+y)}{(x+y)^2+1},$$for all $x,y \in \mathbb{R}.$