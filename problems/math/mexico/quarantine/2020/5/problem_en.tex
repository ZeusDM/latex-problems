Let $\mathbb{N} = \{1, 2, 3, \dots \}$ be the set of positive integers. Find all functions $f:\mathbb{N}\rightarrow \mathbb{N}$, such that for all positive integers $n$ and prime numbers $p$:
$$p \mid f(n)f(p-1)!+n^{f(p)}.$$
