Find all functions $f: \mathbb{R} \to \mathbb{R}$ such that $f(x+y) = \max(f(x),y) + \min(f(y),x)$.

\textit{George Xing.}