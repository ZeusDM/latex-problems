Fix two positive integers $a,k\ge2$, and let $f\in\mathbb{Z}[x]$ be a nonconstant polynomial. Suppose that for all sufficiently large positive integers $n$, there exists a rational number $x$ satisfying $f(x)=f(a^n)^k$. Prove that there exists a polynomial $g\in\mathbb{Q}[x]$ such that $f(g(x))=f(x)^k$ for all real $x$.

\textit{Victor Wang.}