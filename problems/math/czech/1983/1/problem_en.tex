Let $n$ be a positive integer and $k\in[0,n]$ be a fixed real constant. Find the maximum value of $$\left|\sum_{i=1}^n\sin(2x_i)\right|$$where $x_1,\ldots,x_n$ are real numbers satisfying  $$\sum_{i=1}^n\sin^2(x_i)=k.$$