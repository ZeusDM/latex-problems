Each side and diagonal of a regular $n$-gon ($n \ge 3$) is colored red or blue. One may choose a vertex and change the color of all segments emanating from that vertex. Prove that, no matter how the edges were colored initially, one can achieve that the number of blue segments at each vertex is even. Show also that the resulting coloring depends only on the initial coloring.