Find all functions $f:\mathbb{Q}\to\mathbb{Q}$ such that the equation
\[f(xf(x)+y) = f(y) + x^2\]holds for all rational numbers $x$ and $y$.
