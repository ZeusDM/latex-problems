Let $a_1,a_2,\ldots,a_n$ be non-negative real numbers. Define $M$ to be the sum of all products of pairs $a_ia_j$ $(i<j)$,  $\textit{i.e.}$,  \[ M = a_1(a_2+a_3+\cdots+a_n)+a_2(a_3+a_4+\cdots+a_n)+\cdots+a_{n-1}a_n.  \] Prove that the square of at least one of the numbers $a_1,a_2,\ldots,a_n$ does not exceed $2M/n(n-1)$.