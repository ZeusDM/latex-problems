Let $p=2017$ be a prime. Suppose that the number of ways to place $p$ indistinguishable red marbles, $p$ indistinguishable green marbles, and $p$ indistinguishable blue marbles around a circle such that no red marble is next to a green marble and no blue marble is next to a blue marble is $N$. (Rotations and reflections of the same configuration are considered distinct.) Given that $N=p^m\cdot n$, where $m$ is a nonnegative integer and $n$ is not divisible by $p$, and $r$ is the remainder of $n$ when divided by $p$, compute $pm+r$.
