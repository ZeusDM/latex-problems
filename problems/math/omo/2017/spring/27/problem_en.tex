Let $N$ be the number of functions $f: \mathbb{Z}/16\mathbb{Z} \to \mathbb{Z}/16\mathbb{Z}$ such that for all $a,b \in \mathbb{Z}/16\mathbb{Z}$: \[f(a)^2+f(b)^2+f(a+b)^2 \equiv 1+2f(a)f(b)f(a+b) \pmod{16}.\] Find the remainder when $N$ is divided by 2017.
