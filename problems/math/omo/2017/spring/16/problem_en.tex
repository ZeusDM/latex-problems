Let $S$ denote the set of subsets of $\{1,2,\ldots,2017\}$. For two sets $A$ and $B$ of integers, define $A\circ B$ as the \emph{symmetric difference} of $A$ and $B$. (In other words, $A\circ B$ is the set of integers that are an element of exactly one of $A$ and $B$.) Let $N$ be the number of functions $f:S\rightarrow S$ such that $f(A\circ B)=f(A)\circ f(B)$ for all $A,B\in S$. Find the remainder when $N$ is divided by $1000$.
