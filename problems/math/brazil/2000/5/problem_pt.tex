Seja $X$ o conjunto de todas as sequências $A = (a_1, a_2, \dots, a_{2000})$ tais que $a_i \in {0,1,2}$ se $1 \le i \le 1000$ e $a_i \in {0,1}$ se $1001 \le i \le 2000$.
Dados $A$ e $B$ em $X$, definimos a distância $d(A, B)$ entre $A$ e $B$ como sendo o número de valores de $i$, $1 \le i \le 2000$, tais que $a_i \neq b_i$.
Determine o número de funções $f: X \to X$ que preservam distância, isto é, tais que $d(f(A),f(B)) = d(A,B)$, para quaisquer $A$ e $B$ em $X$.