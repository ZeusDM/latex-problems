Find all functions $f : \mathbb R\to\mathbb R $ such that \[f(x+yf(x^2))=f(x)+xf(xy)\]for all real numbers $x$ and $y$.