Let $ M \ge 3$ be an integer and let $ S = \{3,4,5,\ldots,m\}$. Find the smallest value of $ m$ such that for every partition of $ S$ into two subsets, at least one of the subsets contains integers $ a$, $ b$, and $ c$ (not necessarily distinct) such that $ ab = c$.

\textbf{Note}: a partition of $ S$ is a pair of sets $ A$, $ B$ such that $ A \cap B = \emptyset$, $ A \cup B = S$.