Let $n>2$ be a given positive integer. There are $n$ guests at Georg's bachelor party and each guest is friends with at least one other guest. Georg organizes a party game among the guests. Each guest receives a jug of water such that there are no two guests with the same amount of water in their jugs. All guests now proceed simultaneously as follows. Every guest takes one cup for each of his friends at the party and distributes all the water from his jug evenly in the cups. He then passes a cup to each of his friends. Each guest having received a cup of water from each of his friends pours the water he has received into his jug. What is the smallest possible number of guests that do not have the same amount of water as they started with?