All the positive divisors of a positive integer $n$ are stored into an increasing array. Mary is writing a programme which decides for an arbitrarily chosen divisor $d > 1$ whether it is a prime. Let $n$ have $k$ divisors not greater than $d$. Mary claims that it suffices to check divisibility of $d$ by the first $\left\lceil\frac{k}{2}\right\rceil$ divisors of $n$: $d$ is prime if and only if none of them but $1$ divides $d$.

Is Mary right?