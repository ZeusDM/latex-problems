Let $n \ge 1$ and $x_1, \ldots, x_n \ge 0$. Prove that$$  (x_1 + \frac{x_2}{2} + \ldots + \frac{x_n}{n}) (x_1 + 2x_2 + \ldots + nx_n) \le \frac{(n+1)^2}{4n} (x_1 + x_2 + \ldots + x_n)^2 .$$