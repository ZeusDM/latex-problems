Find all functions $ f : \mathbb{R} \to\mathbb{R}$ such that $f(f(x)-f(y))=f(f(x))-2x^2f(y)+f(y^2)$ for all $x,y \in \mathbb{R}.$