Find all functions $ f : \mathbb{R} \mapsto \mathbb{R}$ such that $f(f(x+y)f(x-y))=x^2-yf(y)$ for all $ \ x,y \in \mathbb{R}.$