For a given natural number $n$, consider those sets $A\subseteq \mathbb{Z}_n$ for which the equation $xy=uv$ has no other solution in the residual classes $x,y,u,v\in A$ than the trivial solutions $x=u$, $y=v$ and $x=v$, $y=u$. Let $g(n)$ be the maximum of the size of such sets $A$. Prove that
$$\limsup_{n\to\infty}\frac{g(n)}{\sqrt{n}}=1$$