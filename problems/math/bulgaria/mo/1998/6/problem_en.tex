The sides and diagonals of a regular $n$-gon $R$ are colored in $k$ colors so that:
(i) For each color $a$ and any two vertices $A$,$B$ of $R$ , the segment $AB$ is of color $a$ or there is a vertex $C$ such that $AC$ and $BC$ are of color $a$.
(ii) The sides of any triangle with vertices at vertices of $R$ are colored in at most two colors.
Prove that $k\leq  2$.