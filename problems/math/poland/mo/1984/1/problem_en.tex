Find the number of all real functions $f$ which map the sum of $n$ elements into the sum of their images, such that $f^{n-1}$ is a constant function and $f^{n-2}$ is not. Here $f^0(x) = x$ and $f^k = f \circ f^{k-1}$ for $k \ge 1$.