Let $\mathbb{Z}^+$ be the set of positive integers. Determine all functions $f : \mathbb{Z}^+\to\mathbb{Z}^+$ such that $a^2+f(a)f(b)$ is divisible by $f(a)+b$ for all positive integers $a,b$.