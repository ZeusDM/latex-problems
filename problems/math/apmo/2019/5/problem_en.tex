Determine all the functions $f : \mathbb{R} \to \mathbb{R}$ such that\[ f(x^2 + f(y)) = f(f(x)) + f(y^2) + 2f(xy) \]for all real numbers $x$ and $y$.