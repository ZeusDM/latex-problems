Let 
$\mathbb R$
 be the set of real numbers. Determine all functions 
$f:\mathbb R\to\mathbb R$
 that satisfy the equation
\[f(x+f(x+y))+f(xy)=x+f(x+y)+yf(x)\]
for all real numbers 
$x$
 and 
$y$.
