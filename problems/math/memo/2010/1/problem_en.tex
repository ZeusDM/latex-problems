Find all functions $f:\mathbb{R}\to\mathbb{R}$ such that for all $x, y\in\mathbb{R}$,  we have\[f(x+y)+f(x)f(y)=f(xy)+(y+1)f(x)+(x+1)f(y).\]