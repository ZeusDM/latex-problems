Let $n\ge 2$ be an integer. Determine the number of positive integers $m$ such that $m\le n$ and $m^2+1$ is divisible by $n$.